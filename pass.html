<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Your Pass â€¢ Pilgrimage</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <div class="brand"><div class="brand-badge">ðŸ›•</div><div>Pilgrimage</div></div>
      <div class="top-actions">
        <a class="link-ghost" href="home.html" data-login-btn>Login</a>
        <button class="btn-secondary hidden" data-logout-btn>Logout</button>
        <div class="top-avatar hidden" data-avatar>A</div>
      </div>
    </div>
  </header>

  <main class="container">
    <h1 class="section-title">Digital Pass</h1>
    <div class="card">
      <div class="kv"><strong>User ID</strong><span id="uid">â€”</span></div>
      <div class="qr-preview"><canvas id="qr" width="180" height="180" aria-label="QR preview"></canvas></div>
      <div class="divider"></div>
      <div class="kv"><strong>Name</strong><span id="nm">â€”</span></div>
      <div class="kv"><strong>Temple</strong><span id="temple">â€”</span></div>
      <div class="kv"><strong>Date</strong><span id="date">â€”</span></div>
      <div class="kv"><strong>Time</strong><span id="time">â€”</span></div>
      <div class="kv"><strong>Members</strong><span id="members">â€”</span></div>
      <div class="kv"><strong>Vehicle</strong><span id="vehicle">â€”</span></div>
      <div class="divider"></div>
      <div class="row">
        <button class="btn-success" data-download-pass>Download Pass</button>
        <a class="btn-secondary" href="booking.html">Edit Booking</a>
      </div>
    </div>
    <p class="notice">The downloaded PNG (1200Ã—720) includes the QR-style code and your User ID on the top for better scanning visibility.</p>
  </main>

  <nav class="footer-nav">
    <div class="footer-wrap">
      <a class="tab" href="index.html">Home</a>
      <a class="tab" href="booking.html">Book</a>
      <a class="tab active" href="pass.html">Pass</a>
      <a class="tab" href="map.html">Map</a>
      <a class="tab" href="sos.html">SOS</a>
    </div>
  </nav>

  <script src="app.js"></script>
  <script>
    const uid=getKV('pp_userId')||'GUEST'
    const name=getKV('pp_name')||'Guest'
    const temple=getKV('pp_temple')||'Any Temple'
    const date=getKV('pp_date')||'â€”'
    const time=getKV('pp_time')||'â€”'
    const members=getKV('pp_members')||'1'
    const vehicle=getKV('pp_vehicle')||'None'

    document.getElementById('uid').textContent=uid
    document.getElementById('nm').textContent=name
    document.getElementById('temple').textContent=temple
    document.getElementById('date').textContent=date
    document.getElementById('time').textContent=time
    document.getElementById('members').textContent=members
    document.getElementById('vehicle').textContent=vehicle

    const c=document.getElementById('qr'); drawPseudoQR(c, uid + '|' + temple + '|' + date + ' ' + time)
  </script>
</body>
</html>